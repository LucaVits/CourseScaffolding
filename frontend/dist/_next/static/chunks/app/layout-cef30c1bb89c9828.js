(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3746:function(t,e,r){Promise.resolve().then(r.t.bind(r,3385,23)),Promise.resolve().then(r.bind(r,7765))},7765:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return m}});var a=r(7437),l=r(2265),n=t=>{let{updateHandler:e}=t;return(0,a.jsx)("input",{className:"custom-input",onChange:e})},s=t=>{let{label:e,clickHandler:r}=t;return(0,a.jsx)("button",{className:"btn btn-primary w-1/3",onClick:r,children:e})},c=r(6970),o=r.n(c),i=t=>{let{searchHandler:e,pruneHandler:r}=t,[c,i]=(0,l.useState)(""),[u,d]=(0,l.useState)("");return(0,a.jsx)(o(),{children:(0,a.jsxs)("div",{className:"border-2 bg-gray-400 p-5",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n,{}),(0,a.jsx)(s,{label:"Search"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(s,{label:"Skills"}),(0,a.jsx)(s,{label:"Concepts"}),(0,a.jsx)(s,{label:"Help"})]})]})})},u=r(7175);let d=async()=>{let t=(0,l.useRef)(null);return(0,l.useEffect)(()=>{(async()=>{let[e,r]=await f();x(t,e,r,1500,800)})()},[]),(0,a.jsx)("svg",{className:"ml-auto border-2 border-gray-500",ref:t,width:1500,height:800})},f=async()=>{try{let t=await fetch("http://localhost:3000/db/courses");if(!t.ok)throw Error("Fetch Failed.");let e=await t.json(),r=e.map(t=>{let{id:e,department_code:r,course_code:a,course_name:l}=t;return{id:e,department_code:r,course_code:a,course_name:l}}),a=[];for(let t of e)for(let e of t.prereqs){let r={source:e,target:t.id};a.push(r)}return[r,a]}catch(t){return console.log("An error occurred: ",t),[[],[]]}},x=(t,e,r,a,l)=>{let n=u.Ys(t.current);n.append("defs").append("marker").attr("viewBox","0 0 10 10").attr("refX","30").attr("refY","5").attr("id","arrow").attr("markerWidth",3).attr("markerHeight",5).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let s=u.A4v(e).force("link",u.Fsl(r).id(t=>t.id).distance(100)).force("charge",u.q5i().strength(-1e3)).force("x",u.RUJ()).force("y",u.Mrm()),c=n.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(r).join("line").attr("stroke-width",7).attr("marker-end","url(#arrow)"),o=n.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(e).join("circle").attr("r",35).attr("fill",function(t){switch(t.course_code[0]){case"1":return"green";case"2":return"yellow";case"4":return"red";default:return"black"}}),i=n.append("g").selectAll("text").data(e).join("text").text(t=>t.course_name).attr("text-anchor","middle").attr("alignment-baseline","middle");o.call(u.ohM().on("start",t=>p(t,s)).on("drag",t=>b(t,s)).on("end",t=>j(t,s))),i.call(u.ohM().on("start",t=>p(t,s)).on("drag",t=>b(t,s)).on("end",t=>j(t,s))),s.on("tick",()=>{c.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y),o.attr("cx",t=>t.x).attr("cy",t=>t.y),i.attr("x",t=>t.x).attr("y",t=>t.y)});let d=u.sPX().scaleExtent([1/4,128]).on("zoom",t=>h(t,n));n.call(d).call(d.translateTo,a/2,l/2)},h=(t,e)=>{let{transform:r}=t;e.selectChildren("g").attr("transform",r)},p=(t,e)=>{t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y},b=(t,e)=>{t.subject.fx=t.x,t.subject.fy=t.y},j=(t,e)=>{t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null};function m(){return(0,a.jsxs)("main",{className:"flex flex-col min-h-screen flex-col items-center justify-between p-24",children:[(0,a.jsx)(i,{}),(0,a.jsx)(d,{})]})}},3385:function(){}},function(t){t.O(0,[600,971,69,744],function(){return t(t.s=3746)}),_N_E=t.O()}]);